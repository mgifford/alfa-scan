import { Callback } from "@siteimprove/alfa-callback";
import type { Functor } from "@siteimprove/alfa-functor";
import type { Mapper } from "@siteimprove/alfa-mapper";
/**
 * @public
 */
export declare class Emitter<T> implements Functor.Invariant<T>, AsyncIterable<T> {
    static of<T = void>(): Emitter<T>;
    /**
     * @remarks
     * Listeners are stored in a map keyed by the original listener. This ensures
     * that listeners can be deregistered even in derived emitters, such as those
     * created by `#contraMap()`.
     */
    private readonly _listeners;
    protected constructor(listeners: Map<Callback<never>, Callback<T>>);
    contraMap<U>(mapper: Mapper<U, T>): Emitter<U>;
    on(listener: Callback<T>): this;
    once(): Promise<T>;
    once(listener: Callback<T>): this;
    off(listener: Callback<never>): this;
    emit(event: T): boolean;
    asyncIterator(): AsyncIterator<T>;
    [Symbol.asyncIterator](): AsyncIterator<T>;
}
//# sourceMappingURL=emitter.d.ts.map